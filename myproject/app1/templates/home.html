{% extends 'main.html' %}
{% load static %}
{% block content %}
<nav class="navbar" style="background-color: #e3f2fd;">
  <div class="container-fluid d-flex align-items-center gap-3 flex-wrap">

    <!-- All Products Link -->
    <a class="nav-link text-white fw-semibold" href="{% url 'home' %}">
      All Products
    </a>

    <!-- Category Buttons -->
    {% for i in all_category %}
    <form method="get" class="mb-0">
      <button type="submit" name="cat" value="{{ i }}" class="btn btn-sm category-btn">
        {{ i }}
      </button>
    </form>
    {% endfor %}

  </div>
</nav>
<center>
  <div class="carousel_container">
    <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">

      <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4"></button>
      </div>

      <div class="carousel-inner">

        <div class="carousel-item active">
          <img src="{% static 'images/cloth_offer.png' %}" class="d-block w-100 carousel-img" alt="Clothing offer">
        </div>

        <div class="carousel-item">
          <img src="{% static 'images/geroceries_offer.png' %}" class="d-block w-100 carousel-img" alt="Grocery offer">
        </div>

        <div class="carousel-item">
          <img src="{% static 'images/mobile_offer.png' %}" class="d-block w-100 carousel-img" alt="Mobile offer">
        </div>

        <div class="carousel-item">
          <img src="{% static 'images/saree_offer.png' %}" class="d-block w-100 carousel-img" alt="Saree offer">
        </div>

        <div class="carousel-item">
          <img src="{% static 'images/t-shirt_offer.png' %}" class="d-block w-100 carousel-img" alt="T-shirt offer">
        </div>

      </div>

      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>

      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
        data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>

    </div>
  </div>
</center>

<div class="mobiles_container">
  <div class="container my-4">
    <h1 class="text-center mb-4">Our Products</h1>

    <div class="row g-3">

      {% if data %}
      {% for i in data %}

      <div class="col-6 col-md-4 col-lg-3">
  <div class="card h-100 product-card">

    {% if trend %}
    <span class="badge bg-danger position-absolute m-2">Trending</span>
    {% endif %}

    {% if offer %}
    <span class="badge bg-warning text-dark position-absolute m-2" style="top:35px;">
      55% OFF
    </span>
    {% endif %}

    <img src="{{ i.product_image.url }}" class="card-img-top product-img">

    <div class="card-body d-flex flex-column">
      <h6 class="card-title">{{ i.product_name }}</h6>
      <small class="text-muted">{{ i.product_category }}</small>
      <p class="card-text small">
        {{ i.product_desc|truncatewords:12 }}
      </p>
      <p class="fw-bold mt-auto">â‚¹{{ i.product_price }}</p>
      <div class="d-flex gap-2 mt-2">
  <a href="{% url 'pro_details' i.id %}"
     class="btn btn-outline-warning btn-sm w-50">
    Detail
  </a>

  <a href="{% url 'add_cart' i.id %}"
     class="btn btn-warning btn-sm w-50">
    Add to Cart
  </a>
</div>

    </div>

  </div>
</div>


      {% endfor %}

      {% else %}
      <h3 class="text-center">No Items found</h3>
      {% endif %}

    </div>
  </div>
</div>

{% endblock content %}

